<!DOCTYPE html>
<html lang="kk" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" type="image/svg+xml" href="img/edu_logo_favicon.svg">
  <meta name="course-type" content="python" />
  <title data-lang-key="python_course_title">–ö—É—Ä—Å: Python –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª–∞—É</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <link rel="stylesheet" href="css/course.css">
  <!-- Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="JavaScript/unified_theme_switcher_new.js"></script>
  <script src="JavaScript/enhance_dark_theme.js"></script>
  <link rel="stylesheet" href="css/modern-sidebar.css">
<link rel="stylesheet" href="css/lesson-tasks.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="css/modern-sidebar.css">
<link rel="stylesheet" href="css/lesson-tasks.css">
<link rel="stylesheet" href="css/lesson-buttons.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Theme Switch */
    .theme-switch {
        position: relative;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-left: 15px;
        border-radius: 50%;
        transition: background-color 0.3s ease;
    }
    
    .theme-switch:hover {
        background-color: rgba(0,0,0,0.05);
    }
    .footer{
      display: flex;
      align-items: center;
    }
    .theme-switch-icon {
        width: 24px;
        height: 24px;
    }
    
    /* Social Links */
    .social-links {
        display: flex;
        gap: 20px;
        align-items: center;
    }
    
    .social-link {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: #f8f9fa;
        color: #333;
        font-size: 22px;
        text-decoration: none;
        transition: all 0.3s ease;
    }
    
    .social-link:hover {
        background: linear-gradient(90deg, #2646FA 0%, #E30BBF 100%);
        color: white;
        transform: translateY(-5px);
    }

    /* –°–∫—Ä—ã–≤–∞–µ–º –ª–∏—à–Ω–∏–µ –Ω–∞–¥–ø–∏—Å–∏ */
    .lesson-content > *:not(#empty-message, #loaded-lesson, #homework-section, .lesson-content-title),
    main > *:not(aside, .lesson-content, section),
    main > span,
    .course-label,
    .course-title-header {
        display: none !important;
    }
  </style>
</head>
<body>
  <header class="header-line">
    <div class="header-logo">
        EduPlatform
    </div>
    <div class="header-text">
        <a class="header-link" href="index.html" data-lang-key="main">–ë–∞—Å—Ç—ã</a>
        <a class="header-link" href="courses.html" data-lang-key="courses">–ö—É—Ä—Å—Ç–∞—Ä</a>
        <a class="header-link" href="#footer" data-lang-key="contacts">–ë–∞–π–ª–∞–Ω—ã—Å</a>
    <div class="header-select" style="gap: 10px;">
        <!-- –°–µ–ª–µ–∫—Ç–æ—Ä —è–∑—ã–∫–∞ —É–¥–∞–ª–µ–Ω –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ -->
        <div class="theme-switch" id="theme-switch" style="margin-left: 0;">
            <i class="fas fa-moon theme-switch-icon" id="theme-icon"></i>
        </div>
        <div class="header-button" style="margin-left: 10px;">
            <a class="btn-log" id="btn-log" href="login.html" data-lang-key="login">–ö—ñ—Ä—É</a>
        </div>
        <div class="header-button user-profile-btn" style="display: none; margin-left: 5px;">
            <a class="btn-profile" id="btn-profile" href="profile.html" data-lang-key="profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
        </div>
    </div>
</div>
</header>

<main>
  <aside class="sidebar">
    <h2 data-lang-key="select_lesson">–°–∞–±–∞“õ—Ç–∞—Ä</h2>
    <div class="weeks-container">
      <button class="week-btn active">1 <span data-lang-key="week">–∞–ø—Ç–∞</span></button>
      <button class="week-btn" onclick="showLockedWeek()">2 <span data-lang-key="week">–∞–ø—Ç–∞</span>üîí</button>
      <button class="week-btn" onclick="showLockedWeek()">3 <span data-lang-key="week">–∞–ø—Ç–∞</span>üîí</button>
      <button class="week-btn" onclick="showLockedWeek()">4 <span data-lang-key="week">–∞–ø—Ç–∞</span>üîí</button>
    </div>
    <ul class="lesson-list" id="week-1-lessons">
      <!-- –£—Ä–æ–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
    </ul>
  </aside>

  <section class="lesson-content" id="lesson-content">
    <div class="empty-lesson" id="empty-message">
      <h2 data-lang-key="select_lesson">–°–∞–±–∞“õ —Ç–∞“£–¥–∞“£—ã–∑</h2>
      <p data-lang-key="start_learning">–°–æ–ª –∂–∞“õ—Ç–∞–Ω —Å–∞–±–∞“õ —Ç–∞“£–¥–∞–ø, –æ“õ—É–¥—ã –±–∞—Å—Ç–∞–π –∞–ª–∞—Å—ã–∑.</p>
    </div>
    
    <div id="loaded-lesson" style="display: none;">
      <div id="lesson-data">
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
      
      <div class="lesson-actions">
        <button class="complete-btn" onclick="completeLesson()" data-lang-key="lesson_completed">–°–∞–±–∞“õ –∞—è“õ—Ç–∞–ª–¥—ã</button>
        <div id="result-message"></div>
      </div>
    </div>
    
    <div id="homework-section" style="display: none;">
      <h2 id="homework-title" data-lang-key="homework">“Æ–π —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã</h2>
      <div id="homework-task">
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
    </div>
  </section>
</main>

<footer class="footer" id="footer" style="align-items: center;">
    <div class="text-footer" data-lang-key="copyright">
        ¬© 2025 EduPlatform
    </div>
    <div class="social-links">
        <a href="https://www.instagram.com/s.t1ko?igsh=a3N1a2RkNGcxYnUx&utm_source=qr" target="_blank" class="social-link" data-social="instagram"><i class="fab fa-instagram"></i></a>
        <a href="https://t.me/+5yoacKyZU6k3OGIy" target="_blank" class="social-link" data-social="telegram"><i class="fab fa-telegram"></i></a>
        <a href="https://wa.me/77052421356" target="_blank" class="social-link" data-social="whatsapp"><i class="fab fa-whatsapp"></i></a>
    </div>
</footer>

<!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∫—É—Ä—Å–∞ Python -->
<script src="JavaScript/fix_python_course.js"></script>

<!-- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ -->
<script src="JavaScript/enhance_dark_theme.js"></script>

<!-- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ -->
<script src="JavaScript/translations.js"></script>
<script src="JavaScript/enhanced_translations.js"></script>

<!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Ñ—É—Ç–µ—Ä–æ–≤ -->
<script src="JavaScript/fix_footer_duplicates.js"></script>

<!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ JavaScript –æ—à–∏–±–æ–∫ -->
<script src="JavaScript/fix_javascript_errors.js"></script>
<script src="JavaScript/couses_data/python_kz_quiz_practice.js"></script>
<!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ) -->
<script src="JavaScript/couses_data/python_kz_all_data.js"></script>
<script src="JavaScript/main.js"></script>
<script src="JavaScript/firebase.js"></script>

<!-- Highlight.js –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∫–æ–¥–∞ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<!-- –§–∏–∫—Å–∞—Ü–∏—è —è–∑—ã–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ -->
<script src="JavaScript/static_language_fix.js"></script>
<!-- –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π -->
<script src="JavaScript/quiz_practice_system.js"></script>
<script src="JavaScript/quiz_practice_loader.js"></script>
<!-- URL —É—Ç–∏–ª–∏—Ç—ã -->
<script src="JavaScript/url_utils.js"></script>
<!-- –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
<script src="JavaScript/complete_test_practice_fix.js"></script>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<!-- jQuery –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="JavaScript/themes.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
        document.querySelectorAll('pre code').forEach((el) => {
            hljs.highlightElement(el);
        });
        
        // –î–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        setTimeout(() => {
            const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const lang = userData.language || 'kk';
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ —è–∑—ã–∫–∞
            const langSelect = document.getElementById('select');
            if (langSelect) {
                langSelect.value = lang === 'kk' ? '“ö–∞–∑–∞“õ—à–∞' : '–†—É—Å—Å–∫–∏–π';
            }
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
            setTimeout(() => {
                if (typeof window.applyUniversalTranslations === 'function') {
                    window.applyUniversalTranslations(lang, 'python');
                } else if (typeof window.applyFullTranslationPython === 'function') {
                    window.applyFullTranslationPython(lang);
                }
            }, 200);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–∞–∫–æ–π-—Ç–æ —É—Ä–æ–∫
            const lessonToOpen = localStorage.getItem("openLessonAfterReload");
            if (lessonToOpen) {
                localStorage.removeItem("openLessonAfterReload");
                if (typeof window.loadLesson === 'function') {
                    window.loadLesson(parseInt(lessonToOpen));
                }
            }
        }, 300);
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ main.js –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
        const langSelect = document.getElementById('select');
        langSelect.addEventListener('change', function() {
            const lang = this.value === '“ö–∞–∑–∞“õ—à–∞' ? 'kk' : 'ru';
            
            // –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–∫–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
            const currentLessonNum = localStorage.getItem('lastOpenedLesson');
            if (currentLessonNum) {
                localStorage.setItem("openLessonAfterReload", currentLessonNum);
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –≤ localStorage
            const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
            userData.language = lang;
            localStorage.setItem('currentUser', JSON.stringify(userData));
            
            // –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø –∫—É—Ä—Å–∞
            const courseType = 'python';
            localStorage.setItem('lastOpenedCourse', courseType);
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
            if (typeof window.applyUniversalTranslations === 'function') {
                window.applyUniversalTranslations(lang, courseType);
            } else {
                // –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
                // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞–ø—Ä—è–º—É—é
                if (typeof window.applyFullTranslationPython === 'function') {
                    window.applyFullTranslationPython(lang);
                } else {
                    // –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ data-lang-key
                    document.documentElement.setAttribute('lang', lang);
                    const elements = document.querySelectorAll('[data-lang-key]');
                    elements.forEach(element => {
                        const key = element.getAttribute('data-lang-key');
                        if (translations[lang] && translations[lang][key]) {
                            element.innerHTML = translations[lang][key];
                        }
                    });
                }
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —è–∑—ã–∫–∞
            const message = lang === 'kk' ? '–¢—ñ–ª “õ–∞–∑–∞“õ—à–∞“ì–∞ –∞—É—ã—Å—Ç—ã—Ä—ã–ª–¥—ã' : '–Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ —Ä—É—Å—Å–∫–∏–π';
            const notificationDiv = document.createElement('div');
            notificationDiv.className = 'language-notification';
            notificationDiv.textContent = message;
            notificationDiv.style.position = 'fixed';
            notificationDiv.style.top = '10px';
            notificationDiv.style.right = '10px';
            notificationDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
            notificationDiv.style.color = 'white';
            notificationDiv.style.padding = '10px 15px';
            notificationDiv.style.borderRadius = '4px';
            notificationDiv.style.zIndex = '9999';
            document.body.appendChild(notificationDiv);
            
            setTimeout(() => {
                notificationDiv.style.opacity = '0';
                notificationDiv.style.transition = 'opacity 0.5s ease';
                setTimeout(() => {
                    if (document.body.contains(notificationDiv)) {
                        document.body.removeChild(notificationDiv);
                    }
                }, 500);
            }, 2000);
        });
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        firebase.auth().onAuthStateChanged(user => {
            const btnLog = document.getElementById('btn-log');
            const btnProfile = document.querySelector('.user-profile-btn');
            
            if (user) {
                // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:', user.email);
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                
                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å Firebase, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞
                if (window.firebaseAuth && typeof window.firebaseAuth.syncData === 'function') {
                    window.firebaseAuth.syncData()
                        .then(() => {
                            // –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ä–æ–∫–∏
                            // –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                            initLessons('python');
                            
                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —É—Ä–æ–∫
                            const lessonToOpen = localStorage.getItem("openLessonAfterReload");
                            if (lessonToOpen) {
                                // –£–¥–∞–ª—è–µ–º —Ñ–ª–∞–≥
                                localStorage.removeItem("openLessonAfterReload");
                                
                                // –û—Ç–∫—Ä—ã–≤–∞–µ–º —É—Ä–æ–∫
                                loadLesson(parseInt(lessonToOpen), 'python');
                                // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–∞
                                if (typeof window.triggerLessonLoaded === 'function') {
                                    window.triggerLessonLoaded();
                                }
                            }
                        })
                        .catch(error => {
                            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                        });
                } else {
                    // –ï—Å–ª–∏ Firebase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ—Å—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ä–æ–∫–∏
                    initLessons('python');
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —É—Ä–æ–∫
                    const lessonToOpen = localStorage.getItem("openLessonAfterReload");
                    if (lessonToOpen) {
                        // –£–¥–∞–ª—è–µ–º —Ñ–ª–∞–≥
                        localStorage.removeItem("openLessonAfterReload");
                        
                        // –û—Ç–∫—Ä—ã–≤–∞–µ–º —É—Ä–æ–∫
                        loadLesson(parseInt(lessonToOpen), 'python');
                        // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–∞
                        if (typeof window.triggerLessonLoaded === 'function') {
                            window.triggerLessonLoaded();
                        }
                    }
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                btnLog.style.display = 'none';
                btnProfile.style.display = 'inline-block';
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                if (userData.language) {
                    document.getElementById('select').value = userData.language === 'kk' ? '“ö–∞–∑–∞“õ—à–∞' : '–†—É—Å—Å–∫–∏–π';
                    updateLanguage(userData.language);
                }
            } else {
                // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
                window.location.href = 'login.html';
            }
        });
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—Ä–æ–∫–∞—Ö
        window.showLockedWeek = function() {
            const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
            const lang = userData.language || 'kk';
            const message = translations[lang]['locked_week'] || '–ë“±–ª –∞–ø—Ç–∞–Ω—ã“£ —Å–∞–±–∞“õ—Ç–∞—Ä—ã ”ô–ª—ñ “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –µ–º–µ—Å. –ê–ª–¥—ã“£“ì—ã —Å–∞–±–∞“õ—Ç–∞—Ä–¥—ã –∞—è“õ—Ç–∞“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω –∞—à—ã–ª–∞–¥—ã.';
            
            alert(message);
        };

        // Theme switcher
        const themeSwitch = document.getElementById('theme-switch');
        const themeIcon = document.getElementById('theme-icon');
        
        // Check for saved theme preference or use default
        const currentTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', currentTheme);
        
        // Update icon based on current theme
        if (currentTheme === 'dark') {
            themeIcon.classList.remove('fa-moon');
            themeIcon.classList.add('fa-sun');
        }
        
        // Theme switch event
        themeSwitch.addEventListener('click', function() {
            let theme = 'light';
            
            // If current theme is light, switch to dark
            if (document.documentElement.getAttribute('data-theme') === 'light') {
                document.documentElement.setAttribute('data-theme', 'dark');
                theme = 'dark';
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
            
            // Save preference to localStorage
            localStorage.setItem('theme', theme);
        });
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —è–∑—ã–∫ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
        if (userData.language) {
            updateLanguage(userData.language);
        }
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é completeLesson –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.completeLesson = function() {
            const lessonLinks = document.querySelectorAll('.lesson-link');
            const activeLesson = document.querySelector('.lesson-link.active');
            
            if (!activeLesson) {
                alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–∫');
                return;
            }
            
            const lessonNum = parseInt(activeLesson.getAttribute('data-lesson'));
            
            // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–∫–∞ –∏–∑ Firebase, –µ—Å–ª–∏ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
            if (window.firebaseAuth && typeof window.firebaseAuth.completeLesson === 'function') {
                window.firebaseAuth.completeLesson(lessonNum)
                    .then(() => {
                        // –î–æ–±–∞–≤–ª—è–µ–º –≥–∞–ª–æ—á–∫—É –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–º—É —É—Ä–æ–∫—É
                        const lessonItem = activeLesson.closest('.lesson-item');
                        if (lessonItem && !lessonItem.querySelector('.lesson-completed')) {
                            const checkmark = document.createElement('span');
                            checkmark.className = 'lesson-completed';
                            checkmark.innerHTML = '‚úì';
                            lessonItem.appendChild(checkmark);
                        }
                        
                        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
                        const resultMessage = document.getElementById('result-message');
                        if (resultMessage) {
                            const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                            const lang = userData.language || 'kk';
                            
                            let message;
                            if (lang === 'kk') {
                                message = '–°–∞–±–∞“õ —Å”ô—Ç—Ç—ñ –∞—è“õ—Ç–∞–ª–¥—ã!';
                            } else {
                                message = '–£—Ä–æ–∫ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!';
                            }
                            
                            resultMessage.innerHTML = `<div class="success-message">${message}</div>`;
                            
                            // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                            setTimeout(() => {
                                resultMessage.innerHTML = '';
                            }, 3000);
                        }
                    })
                    .catch(error => {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–∫–∞:', error);
                        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    });
            } else {
                // –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –µ—Å–ª–∏ Firebase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
                const completedLessons = JSON.parse(localStorage.getItem('pythonCompletedLessons') || '[]');
                if (!completedLessons.includes(lessonNum)) {
                    completedLessons.push(lessonNum);
                    localStorage.setItem('pythonCompletedLessons', JSON.stringify(completedLessons));
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≥–∞–ª–æ—á–∫—É –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–º—É —É—Ä–æ–∫—É
                const lessonItem = activeLesson.closest('.lesson-item');
                if (lessonItem && !lessonItem.querySelector('.lesson-completed')) {
                    const checkmark = document.createElement('span');
                    checkmark.className = 'lesson-completed';
                    checkmark.innerHTML = '‚úì';
                    lessonItem.appendChild(checkmark);
                }
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
                const resultMessage = document.getElementById('result-message');
                if (resultMessage) {
                    const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                    const lang = userData.language || 'kk';
                    
                    let message;
                    if (lang === 'kk') {
                        message = '–°–∞–±–∞“õ —Å”ô—Ç—Ç—ñ –∞—è“õ—Ç–∞–ª–¥—ã!';
                    } else {
                        message = '–£—Ä–æ–∫ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!';
                    }
                    
                    resultMessage.innerHTML = `<div class="success-message">${message}</div>`;
                    
                    // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                    setTimeout(() => {
                        resultMessage.innerHTML = '';
                    }, 3000);
                }
            }
        };
    });
</script>
<script>
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  document.addEventListener('DOMContentLoaded', function() {
    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫ —Å–∞–π–¥–±–∞—Ä—É
    const sidebar = document.querySelector('.sidebar');
    if (sidebar) {
      sidebar.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';
      sidebar.style.backdropFilter = 'blur(5px)';
      sidebar.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.05)';
      sidebar.style.borderRadius = '8px';
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫–∏ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–∞–π–¥–±–∞—Ä–∞
    const lessonItems = document.querySelectorAll('.lesson-list li');
    lessonItems.forEach(item => {
      // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å lesson-item –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
      item.classList.add('lesson-item');
      
      // –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –∫–Ω–∏–≥–∏, –µ—Å–ª–∏ –µ—ë –µ—â–µ –Ω–µ—Ç
      if (!item.querySelector('.lesson-icon')) {
        const icon = document.createElement('i');
        icon.className = 'fas fa-book lesson-icon';
        icon.style.marginRight = '10px';
        icon.style.color = '#2646FA';
        item.insertBefore(icon, item.firstChild);
      }
      
      // –ï—Å–ª–∏ —É—Ä–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω, –¥–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –≥–∞–ª–æ—á–∫–∏
      if (item.classList.contains('completed') && !item.querySelector('.lesson-completed-icon')) {
        const checkIcon = document.createElement('i');
        checkIcon.className = 'fas fa-check-circle lesson-completed-icon';
        checkIcon.style.marginLeft = '10px';
        checkIcon.style.color = '#4CAF50';
        item.appendChild(checkIcon);
      }
    });
  });
</script>

<!-- URL —É—Ç–∏–ª–∏—Ç—ã -->
<script src="JavaScript/url_utils.js"></script>

<!-- –ü—Ä—è–º–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
<script src="JavaScript/direct_quiz_practice_override.js"></script>
    <footer class="footer" id="footer" style="align-items: center;">
        <div class="text-footer" data-lang-key="copyright">
            ¬© 2025 EduPlatform
        </div>
        <div class="social-links">
            <a href="https://www.instagram.com/s.t1ko?igsh=a3N1a2RkNGcxYnUx&utm_source=qr" target="_blank" class="social-link" data-social="instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://t.me/+5yoacKyZU6k3OGIy" target="_blank" class="social-link" data-social="telegram"><i class="fab fa-telegram"></i></a>
            <a href="https://wa.me/77052421356" target="_blank" class="social-link" data-social="whatsapp"><i class="fab fa-whatsapp"></i></a>
        </div>
    </footer>
</body>
</html>