<!DOCTYPE html>
<html lang="kk" data-theme="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title data-lang-key="course_title">–ö—É—Ä—Å: HTML, CSS-—Ç—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ —Ç“Ø—Å—ñ–Ω—ñ–∫—Ç–µ—Ä—ñ</title>
    <link rel="icon" type="image/svg+xml" href="img/edu_logo_favicon.svg">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link rel="stylesheet" href="css/course.css">
    <!-- Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="JavaScript/unified_theme_switcher.js"></script>
    <script src="JavaScript/enhance_dark_theme.js"></script>
    <link rel="stylesheet" href="css/modern-sidebar.css">
  <link rel="stylesheet" href="css/lesson-tasks.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/modern-sidebar.css">
  <link rel="stylesheet" href="css/lesson-tasks.css">
  <link rel="stylesheet" href="css/lesson-buttons.css">
  <link rel="stylesheet" href="css/quiz-practice.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Theme Switch */
        .theme-switch {
            position: relative;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin-left: 15px;
            border-radius: 50%;
            transition: background-color 0.3s ease;
        }
        .footer{
      display: flex;
      align-items: center;
    }
        .theme-switch:hover {
            background-color: rgba(0,0,0,0.05);
        }
        
        .theme-switch-icon {
            width: 24px;
            height: 24px;
        }
        
        /* Social Links */
        .social-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .social-link {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #f8f9fa;
            color: #333;
            font-size: 22px;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .social-link:hover {
            background: linear-gradient(90deg, #2646FA 0%, #E30BBF 100%);
            color: white;
            transform: translateY(-5px);
        }
    </style>
    <script src="JavaScript/unified_theme_switcher.js"></script>
</head>
<body>
    <header class="header-line">
        <div class="header-logo">
            EduPlatform
        </div>
        <div class="header-text">
            <a class="header-link" href="index.html" data-lang-key="main">–ë–∞—Å—Ç—ã</a>
            <a class="header-link" href="courses.html" data-lang-key="courses">–ö—É—Ä—Å—Ç–∞—Ä</a>
            <a class="header-link" href="#footer" data-lang-key="contacts">–ë–∞–π–ª–∞–Ω—ã—Å</a>
        <div class="header-select" style="gap: 10px;">
            <!-- Language selector removed as requested -->
            <div class="theme-switch" id="theme-switch" style="margin-left: 0;">
                <i class="fas fa-moon theme-switch-icon" id="theme-icon"></i>
            </div>
            <div class="header-button" style="margin-left: 10px;">
                <a class="btn-log" id="btn-log" href="login.html" data-lang-key="login">–ö—ñ—Ä—É</a>
            </div>
            <div class="header-button user-profile-btn" style="display: none; margin-left: 5px;">
                <a class="btn-profile" id="btn-profile" href="profile.html" data-lang-key="profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
            </div>
        </div>
    </div>
    </header>

    <main>
        <div class="sidebar">
            <h2 data-lang-key="select_lesson">–°–∞–±–∞“õ—Ç–∞—Ä</h2>
            <div class="weeks-container">
                <button class="week-btn active">1 <span>–∞–ø—Ç–∞</span></button>
                <button class="week-btn" onclick="showLockedWeek()">2 <span>–∞–ø—Ç–∞</span>üîí</button>
                <button class="week-btn" onclick="showLockedWeek()">3 <span>–∞–ø—Ç–∞</span>üîí</button>
                <button class="week-btn" onclick="showLockedWeek()">4 <span>–∞–ø—Ç–∞</span>üîí</button>
            </div>
            <ul class="lesson-list" id="week-1-lessons">
                <!-- –°–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </ul>
        </div>
        
        <div class="lesson-content">
            <div class="empty-lesson" id="empty-message">
                <h2 data-lang-key="select_lesson">–°–∞–±–∞“õ —Ç–∞“£–¥–∞“£—ã–∑</h2>
                <p data-lang-key="start_learning">–°–æ–ª –∂–∞“õ—Ç–∞–Ω —Å–∞–±–∞“õ —Ç–∞“£–¥–∞–ø, –æ“õ—É–¥—ã –±–∞—Å—Ç–∞–π –∞–ª–∞—Å—ã–∑.</p>
            </div>
            
            <div id="loaded-lesson" style="display: none;">
                <div id="lesson-data">
                    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —É—Ä–æ–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div class="lesson-actions">
                    <button class="complete-btn" onclick="completeLesson()" data-lang-key="lesson_completed">–°–∞–±–∞“õ –∞—è“õ—Ç–∞–ª–¥—ã</button>
                    <div id="result-message"></div>
                </div>
            </div>
            
            <div id="homework-section" style="display: none;">
                <h2 id="homework-title" data-lang-key="homework">“Æ–π —Ç–∞–ø—Å—ã—Ä–º–∞—Å—ã</h2>
                <div id="homework-task">
                    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </main>
    
    <footer class="footer" id="footer" style="align-items: center;">
        <div class="text-footer" data-lang-key="copyright">
            ¬© 2025 EduPlatform
        </div>
        <div class="social-links">
            <a href="https://www.instagram.com/s.t1ko?igsh=a3N1a2RkNGcxYnUx&utm_source=qr" target="_blank" class="social-link" data-social="instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://t.me/+5yoacKyZU6k3OGIy" target="_blank" class="social-link" data-social="telegram"><i class="fab fa-telegram"></i></a>
            <a href="https://wa.me/77052421356" target="_blank" class="social-link" data-social="whatsapp"><i class="fab fa-whatsapp"></i></a>
        </div>
    </footer>
    <script src="JavaScript/translations.js"></script>
    <script src="JavaScript/couses_data/html_css_kz_all_data_new.js"></script>
    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <script src="JavaScript/main.js"></script>
    <script src="JavaScript/firebase.js"></script>
    <script src="JavaScript/python_translations.js"></script>
    <!-- Firebase SDK -->
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ -->
    <script src="JavaScript/translations.js"></script>

    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <script src="JavaScript/couses_data/html_css_kz_all_data_new.js"></script>
    <script src="JavaScript/couses_data/html_css_kz_quiz_practice.js"></script>
    <script src="JavaScript/couses_data/python_kz_quiz_practice.js"></script>
    <script src="JavaScript/couses_data/python_kz_lesson9.js"></script>
    <script src="JavaScript/data.js"></script>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ -->
    <script src="JavaScript/main.js"></script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <!-- Highlight.js –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∫–æ–¥–∞ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- –¢–µ–º–∞ -->
    <script src="JavaScript/themes.js"></script>
    
    <!-- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è -->
    <script src="JavaScript/auth.js"></script>
    
    <!-- –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π -->
    <script src="JavaScript/quiz_practice_system.js"></script>
    <script src="JavaScript/quiz_practice_loader.js"></script>
    <!-- –§–∏–∫—Å–∞—Ü–∏—è —è–∑—ã–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ -->
<script src="JavaScript/static_language_fix.js"></script>
    <!-- URL —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ -->
    <script src="JavaScript/url_utils.js"></script>
    
    <!-- –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
    <script src="JavaScript/complete_test_practice_fix.js"></script>
    
    <!-- –ü—Ä—è–º–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
    <script src="JavaScript/direct_quiz_practice_override.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
            document.querySelectorAll('pre code').forEach((el) => {
                hljs.highlightElement(el);
            });
            
            // –î–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            setTimeout(() => {
                const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                const lang = userData.language || 'kk';
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ —è–∑—ã–∫–∞
                const langSelect = document.getElementById('select');
                if (langSelect) {
                    langSelect.value = lang === 'kk' ? '“ö–∞–∑–∞“õ—à–∞' : '–†—É—Å—Å–∫–∏–π';
                }
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                if (typeof window.applyFullTranslationHtml === 'function') {
                    window.applyFullTranslationHtml(lang);
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–∞–∫–æ–π-—Ç–æ —É—Ä–æ–∫
                const lessonToOpen = localStorage.getItem("openLessonAfterReload");
                if (lessonToOpen) {
                    localStorage.removeItem("openLessonAfterReload");
                    if (typeof window.loadLesson === 'function') {
                        window.loadLesson(parseInt(lessonToOpen));
                    }
                }
            }, 300);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —è–∑—ã–∫–∞
            const langSelect = document.getElementById('select');
            if (langSelect) {
                langSelect.addEventListener('change', function() {
                    const lang = this.value === '“ö–∞–∑–∞“õ—à–∞' ? 'kk' : 'ru';
                    
                    // –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–∫–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
                    const currentLessonNum = localStorage.getItem('lastOpenedLesson');
                    if (currentLessonNum) {
                        localStorage.setItem("openLessonAfterReload", currentLessonNum);
                    }
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –≤ localStorage
                    const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                    userData.language = lang;
                    localStorage.setItem('currentUser', JSON.stringify(userData));
                    
                    // –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø –∫—É—Ä—Å–∞
                    const courseType = 'html';
                    localStorage.setItem('lastOpenedCourse', courseType);
                    
                    // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
                    if (typeof window.applyUniversalTranslations === 'function') {
                        window.applyUniversalTranslations(lang, courseType);
                    } else {
                        // –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
                        // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞–ø—Ä—è–º—É—é
                        if (typeof window.applyFullTranslationHtml === 'function') {
                            window.applyFullTranslationHtml(lang);
                        } else {
                            // –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ data-lang-key
                            document.documentElement.setAttribute('lang', lang);
                            const elements = document.querySelectorAll('[data-lang-key]');
                            elements.forEach(element => {
                                const key = element.getAttribute('data-lang-key');
                                if (translations[lang] && translations[lang][key]) {
                                    element.innerHTML = translations[lang][key];
                                }
                            });
                        }
                    }
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —è–∑—ã–∫–∞
                    const message = lang === 'kk' ? '–¢—ñ–ª “õ–∞–∑–∞“õ—à–∞“ì–∞ –∞—É—ã—Å—Ç—ã—Ä—ã–ª–¥—ã' : '–Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ —Ä—É—Å—Å–∫–∏–π';
                    const notificationDiv = document.createElement('div');
                    notificationDiv.className = 'language-notification';
                    notificationDiv.textContent = message;
                    notificationDiv.style.position = 'fixed';
                    notificationDiv.style.top = '10px';
                    notificationDiv.style.right = '10px';
                    notificationDiv.style.backgroundColor = 'rgba(0,0,0,0.7)';
                    notificationDiv.style.color = 'white';
                    notificationDiv.style.padding = '10px 15px';
                    notificationDiv.style.borderRadius = '4px';
                    notificationDiv.style.zIndex = '9999';
                    document.body.appendChild(notificationDiv);
                    
                    setTimeout(() => {
                        notificationDiv.style.opacity = '0';
                        notificationDiv.style.transition = 'opacity 0.5s ease';
                        setTimeout(() => {
                            if (document.body.contains(notificationDiv)) {
                                document.body.removeChild(notificationDiv);
                            }
                        }, 500);
                    }, 2000);
                });
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            firebase.auth().onAuthStateChanged(user => {
                const btnLog = document.getElementById('btn-log');
                const btnProfile = document.querySelector('.user-profile-btn');
                
                if (user) {
                    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:', user.email);
                    
                    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                    
                    // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å Firebase, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞
                    if (window.firebaseAuth && typeof window.firebaseAuth.syncData === 'function') {
                        window.firebaseAuth.syncData()
                            .then(() => {
                                // –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ä–æ–∫–∏
                                // –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                                if (typeof window.initLessons === 'function') {
                                    console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–∫–æ–≤ —á–µ—Ä–µ–∑ window.initLessons');
                                    window.initLessons();
                                } else if (typeof initLessons === 'function') {
                                    console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Ä–æ–∫–æ–≤ —á–µ—Ä–µ–∑ initLessons');
                                    initLessons();
                                } else {
                                    console.error('–§—É–Ω–∫—Ü–∏—è initLessons –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                                }
                                
                                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —É—Ä–æ–∫
                                const lessonToOpen = localStorage.getItem("openLessonAfterReload");
                                if (lessonToOpen) {
                                    // –£–¥–∞–ª—è–µ–º —Ñ–ª–∞–≥
                                    localStorage.removeItem("openLessonAfterReload");
                                    
                                    // –û—Ç–∫—Ä—ã–≤–∞–µ–º —É—Ä–æ–∫
                                    console.log('–û—Ç–∫—Ä—ã–≤–∞–µ–º —É—Ä–æ–∫:', lessonToOpen);
                                    
                                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫—É—Ä—Å–∞ –ø–æ URL
                                    let currentCourseType = 'html';
                                    if (window.location.pathname.includes('python_course')) {
                                        currentCourseType = 'python';
                                    } else if (window.location.pathname.includes('database_course')) {
                                        currentCourseType = 'database';
                                    }
                                    console.log('–¢–∏–ø –∫—É—Ä—Å–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —É—Ä–æ–∫–∞:', currentCourseType);
                                    
                                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–∏–ø –∫—É—Ä—Å–∞
                                    localStorage.setItem('lastOpenedCourse', currentCourseType);
                                    
                                    if (typeof window.loadLesson === 'function') {
                                        window.loadLesson(parseInt(lessonToOpen), currentCourseType);
                                        // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–∞
                                        if (typeof window.triggerLessonLoaded === 'function') {
                                            window.triggerLessonLoaded();
                                        }
                                    } else if (typeof loadLesson === 'function') {
                                        loadLesson(parseInt(lessonToOpen), currentCourseType);
                                        // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–∞
                                        if (typeof window.triggerLessonLoaded === 'function') {
                                            window.triggerLessonLoaded();
                                        }
                                    } else {
                                        console.error('–§—É–Ω–∫—Ü–∏—è loadLesson –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                                    }
                                }
                            })
                            .catch(error => {
                                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                            });
                    } else {
                        // –ï—Å–ª–∏ Firebase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ—Å—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ä–æ–∫–∏
                        console.warn('Firebase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ä–æ–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ');
                        if (typeof window.initLessons === 'function') {
                            window.initLessons();
                        } else if (typeof initLessons === 'function') {
                            initLessons();
                        } else {
                            console.error('–§—É–Ω–∫—Ü–∏—è initLessons –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —É—Ä–æ–∫
                        const lessonToOpen = localStorage.getItem("openLessonAfterReload");
                        if (lessonToOpen) {
                            // –£–¥–∞–ª—è–µ–º —Ñ–ª–∞–≥
                            localStorage.removeItem("openLessonAfterReload");
                            
                            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —É—Ä–æ–∫
                            if (typeof window.loadLesson === 'function') {
                                window.loadLesson(parseInt(lessonToOpen));
                                // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–∞
                                if (typeof window.triggerLessonLoaded === 'function') {
                                    window.triggerLessonLoaded();
                                }
                            } else if (typeof loadLesson === 'function') {
                                loadLesson(parseInt(lessonToOpen));
                                // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–∫–∞
                                if (typeof window.triggerLessonLoaded === 'function') {
                                    window.triggerLessonLoaded();
                                }
                            } else {
                                console.error('–§—É–Ω–∫—Ü–∏—è loadLesson –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                            }
                        }
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º UI
                    btnLog.style.display = 'none';
                    btnProfile.style.display = 'inline-block';
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    if (userData.language) {
                        document.getElementById('select').value = userData.language === 'kk' ? '“ö–∞–∑–∞“õ—à–∞' : '–†—É—Å—Å–∫–∏–π';
                        updateLanguage(userData.language);
                    }
                } else {
                    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
                    window.location.href = 'login.html';
                }
            });
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—Ä–æ–∫–∞—Ö
            window.showLockedWeek = function() {
                const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                const lang = userData.language || 'kk';
                const message = translations[lang]['locked_week'] || '–ë“±–ª –∞–ø—Ç–∞–Ω—ã“£ —Å–∞–±–∞“õ—Ç–∞—Ä—ã ”ô–ª—ñ “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –µ–º–µ—Å. –ê–ª–¥—ã“£“ì—ã —Å–∞–±–∞“õ—Ç–∞—Ä–¥—ã –∞—è“õ—Ç–∞“ì–∞–Ω–Ω–∞–Ω –∫–µ–π—ñ–Ω –∞—à—ã–ª–∞–¥—ã.';
                
                alert(message);
            };

            // Theme switcher
            const themeSwitch = document.getElementById('theme-switch');
            const themeIcon = document.getElementById('theme-icon');
            
            // Check for saved theme preference or use default
            const currentTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            // Update icon based on current theme
            if (currentTheme === 'dark') {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
            
            // Theme switch event
            themeSwitch.addEventListener('click', function() {
                let theme = 'light';
                
                // If current theme is light, switch to dark
                if (document.documentElement.getAttribute('data-theme') === 'light') {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    theme = 'dark';
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    document.documentElement.setAttribute('data-theme', 'light');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
                
                // Save preference to localStorage
                localStorage.setItem('theme', theme);
            });
        });
    </script>
<!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ –∫—É—Ä—Å–∞–º -->
<script src="JavaScript/course_progress_fix.js"></script>
    <footer class="footer" id="footer" style="align-items: center;">
        <div class="text-footer" data-lang-key="copyright">
            ¬© 2025 EduPlatform
        </div>
        <div class="social-links">
            <a href="https://www.instagram.com/s.t1ko?igsh=a3N1a2RkNGcxYnUx&utm_source=qr" target="_blank" class="social-link" data-social="instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://t.me/+5yoacKyZU6k3OGIy" target="_blank" class="social-link" data-social="telegram"><i class="fab fa-telegram"></i></a>
            <a href="https://wa.me/77052421356" target="_blank" class="social-link" data-social="whatsapp"><i class="fab fa-whatsapp"></i></a>
        </div>
    </footer>
</body>
</html>